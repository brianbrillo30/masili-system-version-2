{% extends "../base.html" %}
{% load static %}
{% block content %}

    <div class="container">
        <div class="row">
            <div class="col-12">
                <p class="h4">Requested Documents Logs</p>
                <p>You may view the history of all the requested documents here</p>
                <hr>
            </div>
        </div>

        <div class="row bg-white rounded mb-3 p-3">
            <div class="col-lg-6 col-md-6">
                <div class="row g-3 align-items-center">
                    <div class="col-auto">
                      <label class="col-form-label">Filter Document</label>
                    </div>
                    <div class="col-auto">
                        <div id="docu_type"></div>
                    </div>
                </div>
            </div>

            <div class="col-lg-6 col-md-6">
                <div id="test" style="float:right" ></div>
            </div>

            <hr class="my-3">

            <div class="col-12">
                <div class="row g-3 align-items-center pt-3">
                    <div class="col-auto">
                      <label class="col-form-label">Minimum date:</label>
                    </div>
                    <div class="col-auto">
                        <input type="text" class="form-control form-control-sm" id="min" name="min">
                    </div>

                    <div class="col-auto">
                        <label class="col-form-label">Maximum date:</label>
                    </div>
                    <div class="col-auto">
                        <input type="text" class="form-control form-control-sm" id="max" name="max">
                    </div>
                </div>
            </div>

        </div>

        <div class="row bg-white rounded p-2">
            <div class="col-lg-12">
                <div class="row">

                    <div class="col-lg-12">
                        <div class="table-responsive">
                            <table id="requested_logs_table" class="table table-striped table-bordered align-middle mb-0 shadow-sm">
                                <thead>
                                    <tr>
                                        <th>Requestor's Res ID</th>
                                        <th scope="col">Requested By</th>
                                        <th scope="col">Document Type</th>
                                        <th scope="col">Date & Time Requested</th>
                                        <th scope="col">Transaction ID</th>
                                        <th scope="col">Status</th>
                                    </tr>
                                </thead>                           
                                <tbody>
                                <!-- clearance -->
                                    {% for clearance in clearance_list %}
                                    <tr>
                                        <td>{{clearance.res_id.res_id}}</td>
                                        <td>{{clearance.res_id}}</td>
                                        <td>{{clearance.document_type}}</td>
                                        <td>{{clearance.date_requested}}</td>
                                        <td>{{clearance.transaction_id}}</td>
                                        <td><span>{{clearance.status}}</span></td>
                                    </tr>
                                    {% endfor %}
    
                                <!-- indigency -->
                                    {% for indigency_list in indigency_list %}
                                    <tr>
                                        <td>{{indigency_list.res_id.res_id}}</td>
                                        <td>{{indigency_list.res_id}}</td>
                                        <td>{{indigency_list.document_type}}</td>
                                        <td>{{indigency_list.date_requested}}</td>
                                        <td>{{indigency_list.transaction_id}}</td>
                                        <td><span>{{indigency_list.status}}</span></td>
                                    </tr>
                                    {% endfor %}
    
                                <!-- business permit -->
                                    {% for business_list in business_list %}
                                    <tr>
                                        <td>{{business_list.res_id.res_id}}</td>
                                        <td>{{business_list.res_id}}</td>
                                        <td>{{business_list.document_type}}</td>
                                        <td>{{business_list.date_requested}}</td>
                                        <td>{{business_list.transaction_id}}</td>
                                        <td><span>{{business_list.status}}</span></td>
                                    </tr>
                                    {% endfor %}
    
                                    <!-- building_permit -->
    
                                    {% for building_list in building_list %}
                                    <tr>
                                        <td>{{building_list.res_id.res_id}}</td>
                                        <td>{{building_list.res_id}}</td>
                                        <td>{{building_list.document_type}}</td>
                                        <td>{{building_list.date_requested}}</td>
                                        <td>{{building_list.transaction_id}}</td>
                                        <td><span>{{building_list.status}}</span></td>
                                    </tr>
                                    {% endfor %}
    
                                    <!-- residency certificate -->
                                    {% for residency_list in residency_list %}
                                    <tr>
                                        <td>{{residency_list.res_id.res_id}}</td>
                                        <td>{{residency_list.res_id}}</td>
                                        <td>{{residency_list.document_type}}</td>
                                        <td>{{residency_list.date_requested}}</td>
                                        <td>{{residency_list.transaction_id}}</td>
                                        <td><span>{{residency_list.status}}</span></td>
                                    </tr>  
                                    {% endfor %}                              
                                </tbody>
                               
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

{% endblock content %}